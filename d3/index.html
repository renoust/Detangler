<html>   
    <head>
        <link rel="stylesheet" href="css/smoothness/jquery-ui.css" type="text/css"/>
        <link rel="stylesheet" href="css/jPicker/jPicker-1.1.6.min.css" type="text/css"/>
        <link rel="stylesheet" href="css/style.css" type="text/css">
        <link rel="stylesheet" href="css/menu.css" type="text/css">

        <script type="text/javascript" src="local/jquery-1.9.1.js"></script>
        <script type="text/javascript" src="local/jquery-ui-1.10.2.js"></script>
        <script type="text/javascript" src="local/d3.v3.min.js"></script>
        <script type="text/javascript" src="local/jpicker-1.1.6.min.js"></script>
        <script type="text/javascript" src="local/colorbrewer.js"></script>

        <script type="text/javascript" src="script-test.js"></script>
        <script type="text/javascript" src="assert.js"></script>
        <script type="text/javascript" src="import_class.js"></script>
        <script type="text/javascript" src="View.js"></script>
        <script type="text/javascript" src="testView.js"></script>
        <script type="text/javascript" src="TulipPosy.js"></script>

		<script>
			/*
			import_class('context.js', 'TP');
			
			
			function reg() {
			  window.captureEvents(Event.MOUSEDOWN);
			  window.onmousedown = page;
			  
			  window.captureEvents(Event.MOUSEMOVE);
			  window.onmousemove = page;
			  
			  window.captureEvents(Event.MOUSEUP);
			  window.onmouseup = page;			  
			  
			  window.captureEvents(Event.MOUSEOVER);
			  window.onmouseup = page;
			  
			  window.captureEvents(Event.MOUSEOUT);
			  window.onmouseup = page;
			  
			}
			
			function page(event) {
			 
				TP.Context().getEvent(event); 
			    
			}*/
			
			
		</script>

    </head>
    
	<body>
        <script>
            // This function removes an element of the page by its id
            function remove(id) {
                elem = document.getElementById(id);
                if (elem)
                    return elem.parentNode.removeChild(elem);
                else
                    return
            }

            
        </script>

        <div id='header'>
            <div id='header-content'>
<!--            <button id='undo'> Undo</button><button id='redo'> Redo</button>--> 
    			<div id='header-logo'>TulipPosy</div>
                <ul id='menu'>
                    <li><a href="#">File</a>
                        <ul>
                            <li><a href="#" id='opfile'>Open File</a></li>
                            <li><a href="#" >Analyse <input id='analyse' type='checkbox'></input></a></li>
                            <li><a href="#" >Sync Layout <input id='sync' type='checkbox'></input></a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>  

        <div id="wrap" class="sidebar" >
            <div id="container"></div>
        </div>
           
        <div style="opacity:0;display:none;">
            <input id="files" type="file">
        </div>
        
        <div id="Controller"></div>
        
        <script>
			
			//$("#principalController").on("message", function(resume, message){TP.Context().treateEvent(resume, message)});
			
			TP.Context().initController("principal", "principal");
			
            $('#opfile').click(function(e){
                $('#files').click();
            });

            $("#menu").menu({
                position:{using:positionnerSousMenu}
            });

            $("#menu > li > a > span.ui-icon-carat-1-e").removeClass("ui-icon-carat-1-e").addClass("ui-icon-carat-1-s");

            function positionnerSousMenu(position,elements){
                var options = { of:elements.target.element };
                if(elements.element.element.parent().parent().attr("id")==="menu"){
                    options.my="center top";
                    options.at="center bottom";
                } else {
                    options.my="left top";
                    options.at ="right top";
                }
                elements.element.element.position(options);
            };

        </script>
    	<script type="text/javascript" src="load.js"></script>
    </body>
</html>
